<div class="d-flex a-items-center mb-2">
    {% set sugg_avatar = suggestion.user_avatar_path or 'avatar.jpg' %}
    <img src="{% if sugg_avatar.startswith('http') %}{{ sugg_avatar }}{% else %}{{ url_for('static', filename='images/' + sugg_avatar) }}{% endif %}"
        class="w-8 h-8 rounded-full" alt="Profile Picture">

    <div class="w-full ml-2">
        <p>
            {{ suggestion.user_first_name }} {{ suggestion.user_last_name }}
            <span class="text-c-gray:+20 text-70">@{{ suggestion.user_username }}</span>
        </p>
    </div>

    {# Check if current user already follows this suggestion #}
    {% set is_following = follows | selectattr("follow_target_fk", "equalto", suggestion.user_pk) | list | length > 0 %}

    <button
        class="follow-btn px-4 py-1 text-c-white rounded-lg {% if is_following %}bg-c-gray-500{% else %}bg-c-black{% endif %}"
        data-user="{{ suggestion.user_pk }}" data-action="{% if is_following %}unfollow{% else %}follow{% endif %}">
        {% if is_following %}Unfollow{% else %}Follow{% endif %}
    </button>
</div>